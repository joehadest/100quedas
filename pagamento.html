<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizar Pagamento | 100 Quedas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body class="bg-light py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-body p-4">
                        <h2 class="text-center mb-4">Finalizar Pagamento</h2>

                        <!-- Resumo do Pedido -->
                        <div class="alert alert-info mb-4">
                            <h5 class="alert-heading">Pacote Selecionado: <span id="pacoteNome">Básico</span></h5>
                            <p class="mb-0">Valor: R$ <span id="pacoteValor">699</span></p>
                        </div>

                        <!-- Botão do Mercado Pago -->
                        <div class="text-center mb-4" id="botao-pagamento"></div>

                        <div class="text-center">
                            <a href="index.html" class="text-decoration-none">
                                <i class="bi bi-arrow-left me-2"></i>Voltar para o site
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Atualizar informações do pacote baseado na URL
        function atualizarPacote() {
            const params = new URLSearchParams(window.location.search);
            const pacote = params.get('pacote');
            const valores = {
                basico: 699,
                profissional: 1499,
                premium: 2499
            };

            if (pacote && valores[pacote]) {
                document.getElementById('pacoteNome').textContent =
                    pacote.charAt(0).toUpperCase() + pacote.slice(1);
                document.getElementById('pacoteValor').textContent = valores[pacote];

                // Inserir o botão de pagamento correto
                const preferenceIds = {
                    basico: "277080573-893dd915-567f-4924-924a-8b384ca866e3",
                    profissional: "277080573-31682feb-e23c-428d-93ca-38962495002f",
                    premium: "277080573-4b3ad734-97b1-4dfc-8801-edbd565e404f"
                };

                const script = document.createElement('script');
                script.src = "https://www.mercadopago.com.br/integrations/v1/web-payment-checkout.js";
                script.setAttribute('data-preference-id', preferenceIds[pacote]);
                script.setAttribute('data-source', 'button');

                document.getElementById('botao-pagamento').innerHTML = '';
                document.getElementById('botao-pagamento').appendChild(script);
            }
        }

        document.addEventListener('DOMContentLoaded', atualizarPacote);
    </script>
</body>

</html>